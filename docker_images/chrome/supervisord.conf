# supervisord.conf
[supervisord]
nodaemon=true

[program:vnc]
# This single command starts the virtual screen (Xvfb), the window manager (openbox), and the VNC server
command=/usr/bin/vncserver :0 -geometry 1280x720 -depth 24 -rfbport 5900 -passwd /root/.vnc/passwd -fg -AlwaysShared
environment=USER="root"
priority=1
autorestart=true

[program:chrome]
command=google-chrome-stable --no-sandbox --disable-gpu --window-size=1280,720 --user-data-dir=/tmp/chrome-data
# This program needs to wait for the VNC display :0 to be ready
environment=DISPLAY=":0"
priority=2
autorestart=true